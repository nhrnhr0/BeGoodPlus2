{% extends "newBase.html" %}

{% load i18n %}
{% load static %}
{% load bootstrap5 %}

{% block head_title %}{% trans "Main" %}{% endblock %}
{% block extra_head %}
<!-- css includes in head -->
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.css" />
<!-- Add the slick-theme.css if you want default styling -->
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick-theme.css" />

<link rel="stylesheet" href="{%static 'assets/catalog/css/style.css' %}">
{% endblock extra_head%}

{% block content %}
<div class="catalog">
    {%for album in  catalogAlbums %}
    {%if album.is_public %}
    <div class="title">{{album}}</div>
    <div class="container">
        <div id="slick-slider-{{forloop.counter0}}" class="slick-slider">
            {%for img in album.images.all  %}
            <div class="my-slick-slide"><img data-lazy="{{img.image_thumbnail.url}}" alt="" /></div>
            {%endfor%}
        </div>
    </div>
    {%endif%}
    {%endfor%}
</div>
{%endblock%}

{%block extra_body%}
<script type="text/javascript" src="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.min.js"></script>


<script type="text/javascript">
    $(document).ready(function () {
        var slisks = $('.slick-slider');
        for (var i = 0; i < slisks.length; i++) {


            var numberOfItems = $(slisks[i]).find('.my-slick-slide').length
            var isDots = true;
            if (numberOfItems > 20) {
                isDots = false;
            }
            $(slisks[i]).slick({
                slidesToShow: 5,
                slidesToScroll:1,
                dots: isDots,
                focusOnSelect: true,
                rtl: true,
                swipeToSlide: true,
                lazyLoad: 'ondemand',



                responsive: [{
                    breakpoint: 500,
                    settings: {
                        slidesToShow: 3,
                    }
                }]
            });

        }
    });
</script>
{%endblock%}